{"timestamp": "2025-10-13T19:34:33.176678Z", "level": "INFO", "logger": "__main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 52}
{"timestamp": "2025-10-13T19:34:33.177695Z", "level": "INFO", "logger": "__main__", "message": "LIVEKIT_AGENT_MAIN | starting_worker", "module": "main", "function": "<module>", "line": 73}
{"timestamp": "2025-10-13T19:38:40.216432Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-13T19:38:40.216432Z", "level": "INFO", "logger": "main", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-13T19:39:42.915067Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-13T19:39:42.916067Z", "level": "INFO", "logger": "__main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-13T19:39:42.917067Z", "level": "INFO", "logger": "__main__", "message": "LIVEKIT_AGENT_MAIN | starting_worker", "module": "main", "function": "<module>", "line": 76}
{"timestamp": "2025-10-13T19:39:42.969803Z", "level": "DEV", "logger": "livekit.agents", "message": "Watching C:\\Users\\PMYLS\\Desktop\\voiceagents\\livekit", "module": "watcher", "function": "run", "line": 84}
{"timestamp": "2025-10-13T19:39:45.254171Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-13T19:39:45.256325Z", "level": "INFO", "logger": "__mp_main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-13T19:39:45.267491Z", "level": "INFO", "logger": "livekit.agents", "message": "starting worker", "module": "worker", "function": "run", "line": 390}
{"timestamp": "2025-10-13T19:39:46.223340Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-13T19:49:22.369258Z", "level": "WARNING", "logger": "livekit.agents", "message": "failed to connect to livekit, retrying in 0s", "module": "worker", "function": "_connection_task", "line": 702, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 689, in _connection_task\n    await self._run_ws(ws)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 770, in _run_ws\n    await asyncio.gather(*tasks)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 742, in _recv_task\n    raise Exception(\"worker connection closed unexpectedly\")\nException: worker connection closed unexpectedly"}
{"timestamp": "2025-10-13T19:49:24.599226Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-13T19:51:07.205210Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-13T19:51:07.205210Z", "level": "INFO", "logger": "__mp_main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-13T19:51:07.215797Z", "level": "INFO", "logger": "livekit.agents", "message": "starting worker", "module": "worker", "function": "run", "line": 390}
{"timestamp": "2025-10-13T19:51:07.309353Z", "level": "ERROR", "logger": "livekit.agents", "message": "Error in _read_ipc_task", "module": "log", "function": "async_fn_logs", "line": 21, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\utils\\aio\\duplex_unix.py\", line 35, in recv_bytes\n    len_bytes = await self._reader.readexactly(4)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\asyncio\\streams.py\", line 750, in readexactly\n    raise exceptions.IncompleteReadError(incomplete, n)\nasyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\utils\\log.py\", line 16, in async_fn_logs\n    return await fn(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\cli\\watcher.py\", line 120, in _read_ipc_task\n    msg = await channel.arecv_message(self._pch, proto.IPC_MESSAGES)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\ipc\\channel.py\", line 47, in arecv_message\n    return _read_message(await dplx.recv_bytes(), messages)\n                         ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\utils\\aio\\duplex_unix.py\", line 43, in recv_bytes\n    raise DuplexClosed() from e\nlivekit.agents.utils.aio.duplex_unix.DuplexClosed"}
{"timestamp": "2025-10-13T19:51:11.489521Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-13T19:53:58.562788Z", "level": "WARNING", "logger": "livekit.agents", "message": "failed to connect to livekit, retrying in 0s", "module": "worker", "function": "_connection_task", "line": 702, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 689, in _connection_task\n    await self._run_ws(ws)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 770, in _run_ws\n    await asyncio.gather(*tasks)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 742, in _recv_task\n    raise Exception(\"worker connection closed unexpectedly\")\nException: worker connection closed unexpectedly"}
{"timestamp": "2025-10-13T19:54:07.630680Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-13T19:56:39.845976Z", "level": "WARNING", "logger": "livekit.agents", "message": "failed to connect to livekit, retrying in 0s", "module": "worker", "function": "_connection_task", "line": 702, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 689, in _connection_task\n    await self._run_ws(ws)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 770, in _run_ws\n    await asyncio.gather(*tasks)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 742, in _recv_task\n    raise Exception(\"worker connection closed unexpectedly\")\nException: worker connection closed unexpectedly"}
{"timestamp": "2025-10-13T19:56:42.022229Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-13T20:08:26.131940Z", "level": "WARNING", "logger": "livekit.agents", "message": "failed to connect to livekit, retrying in 0s", "module": "worker", "function": "_connection_task", "line": 702, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 689, in _connection_task\n    await self._run_ws(ws)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 770, in _run_ws\n    await asyncio.gather(*tasks)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 742, in _recv_task\n    raise Exception(\"worker connection closed unexpectedly\")\nException: worker connection closed unexpectedly"}
{"timestamp": "2025-10-13T20:08:27.219758Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-13T21:15:10.527463Z", "level": "WARNING", "logger": "livekit.agents", "message": "failed to connect to livekit, retrying in 0s", "module": "worker", "function": "_connection_task", "line": 702, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 689, in _connection_task\n    await self._run_ws(ws)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 770, in _run_ws\n    await asyncio.gather(*tasks)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 733, in _recv_task\n    msg = await ws.receive()\n          ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client_ws.py\", line 378, in receive\n    await self.pong(msg.data)\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client_ws.py\", line 234, in pong\n    await self._writer.send_frame(message, WSMsgType.PONG)\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\_websocket\\writer.py\", line 126, in send_frame\n    raise ClientConnectionResetError(\"Cannot write to closing transport\")\naiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport"}
{"timestamp": "2025-10-13T21:15:10.989101Z", "level": "WARNING", "logger": "livekit.agents", "message": "failed to connect to livekit, retrying in 2s", "module": "worker", "function": "_connection_task", "line": 702, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1532, in _create_direct_connection\n    hosts = await self._resolve_host(host, port, traces=traces)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1148, in _resolve_host\n    return await asyncio.shield(resolved_host_task)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1179, in _resolve_host_with_throttle\n    addrs = await self._resolver.resolve(host, port, family=self._family)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\resolver.py\", line 40, in resolve\n    infos = await self._loop.getaddrinfo(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\asyncio\\base_events.py\", line 899, in getaddrinfo\n    return await self.run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\socket.py\", line 963, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 649, in _connection_task\n    ws = await self._http_session.ws_connect(\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 1067, in _ws_connect\n    resp = await self.request(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 770, in _request\n    resp = await handler(req)\n           ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 725, in _connect_and_send_request\n    conn = await self._connector.connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 642, in connect\n    proto = await self._create_connection(req, traces, timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1209, in _create_connection\n    _, proto = await self._create_direct_connection(req, traces, timeout)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1538, in _create_direct_connection\n    raise ClientConnectorDNSError(req.connection_key, exc) from exc\naiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]"}
{"timestamp": "2025-10-13T21:15:13.050320Z", "level": "WARNING", "logger": "livekit.agents", "message": "failed to connect to livekit, retrying in 4s", "module": "worker", "function": "_connection_task", "line": 702, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1532, in _create_direct_connection\n    hosts = await self._resolve_host(host, port, traces=traces)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1148, in _resolve_host\n    return await asyncio.shield(resolved_host_task)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1179, in _resolve_host_with_throttle\n    addrs = await self._resolver.resolve(host, port, family=self._family)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\resolver.py\", line 40, in resolve\n    infos = await self._loop.getaddrinfo(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\asyncio\\base_events.py\", line 899, in getaddrinfo\n    return await self.run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\socket.py\", line 963, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 649, in _connection_task\n    ws = await self._http_session.ws_connect(\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 1067, in _ws_connect\n    resp = await self.request(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 770, in _request\n    resp = await handler(req)\n           ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 725, in _connect_and_send_request\n    conn = await self._connector.connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 642, in connect\n    proto = await self._create_connection(req, traces, timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1209, in _create_connection\n    _, proto = await self._create_direct_connection(req, traces, timeout)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1538, in _create_direct_connection\n    raise ClientConnectorDNSError(req.connection_key, exc) from exc\naiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]"}
{"timestamp": "2025-10-13T23:36:32.332443Z", "level": "WARNING", "logger": "livekit.agents", "message": "failed to connect to livekit, retrying in 6s", "module": "worker", "function": "_connection_task", "line": 702, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1532, in _create_direct_connection\n    hosts = await self._resolve_host(host, port, traces=traces)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1148, in _resolve_host\n    return await asyncio.shield(resolved_host_task)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1179, in _resolve_host_with_throttle\n    addrs = await self._resolver.resolve(host, port, family=self._family)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\resolver.py\", line 40, in resolve\n    infos = await self._loop.getaddrinfo(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\asyncio\\base_events.py\", line 899, in getaddrinfo\n    return await self.run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\socket.py\", line 963, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 649, in _connection_task\n    ws = await self._http_session.ws_connect(\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 1067, in _ws_connect\n    resp = await self.request(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 770, in _request\n    resp = await handler(req)\n           ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 725, in _connect_and_send_request\n    conn = await self._connector.connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 642, in connect\n    proto = await self._create_connection(req, traces, timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1209, in _create_connection\n    _, proto = await self._create_direct_connection(req, traces, timeout)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1538, in _create_direct_connection\n    raise ClientConnectorDNSError(req.connection_key, exc) from exc\naiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]"}
{"timestamp": "2025-10-13T23:36:39.428183Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-14T08:31:19.520151Z", "level": "WARNING", "logger": "livekit.agents", "message": "Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\\Python312\\Lib\\site-packages\\livekit\\agents\\utils\\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\\Python312\\Lib\\asyncio\\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\\Python312\\Lib\\asyncio\\tasks.py:767]> took too long: 32071.03 seconds", "module": "debug", "function": "instrumented", "line": 19}
{"timestamp": "2025-10-14T08:31:19.532644Z", "level": "WARNING", "logger": "livekit.agents", "message": "failed to connect to livekit, retrying in 0s", "module": "worker", "function": "_connection_task", "line": 702, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 689, in _connection_task\n    await self._run_ws(ws)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 770, in _run_ws\n    await asyncio.gather(*tasks)\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 725, in _send_task\n    await ws.send_bytes(msg.SerializeToString())\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client_ws.py\", line 252, in send_bytes\n    await self._writer.send_frame(data, WSMsgType.BINARY, compress=compress)\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\_websocket\\writer.py\", line 126, in send_frame\n    raise ClientConnectionResetError(\"Cannot write to closing transport\")\naiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport"}
{"timestamp": "2025-10-14T08:31:19.540726Z", "level": "WARNING", "logger": "livekit.agents", "message": "failed to connect to livekit, retrying in 2s", "module": "worker", "function": "_connection_task", "line": 702, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1532, in _create_direct_connection\n    hosts = await self._resolve_host(host, port, traces=traces)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1148, in _resolve_host\n    return await asyncio.shield(resolved_host_task)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1179, in _resolve_host_with_throttle\n    addrs = await self._resolver.resolve(host, port, family=self._family)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\resolver.py\", line 40, in resolve\n    infos = await self._loop.getaddrinfo(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\asyncio\\base_events.py\", line 899, in getaddrinfo\n    return await self.run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\socket.py\", line 963, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\worker.py\", line 649, in _connection_task\n    ws = await self._http_session.ws_connect(\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 1067, in _ws_connect\n    resp = await self.request(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 770, in _request\n    resp = await handler(req)\n           ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\client.py\", line 725, in _connect_and_send_request\n    conn = await self._connector.connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 642, in connect\n    proto = await self._create_connection(req, traces, timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1209, in _create_connection\n    _, proto = await self._create_direct_connection(req, traces, timeout)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\aiohttp\\connector.py\", line 1538, in _create_direct_connection\n    raise ClientConnectorDNSError(req.connection_key, exc) from exc\naiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]"}
{"timestamp": "2025-10-14T08:31:22.782941Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-14T08:55:15.594863Z", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker", "module": "worker", "function": "aclose", "line": 576}
{"timestamp": "2025-10-14T08:55:15.657795Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1819, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Python312\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}
{"timestamp": "2025-10-14T08:55:26.293287Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-14T08:55:26.294291Z", "level": "INFO", "logger": "__main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-14T08:55:26.295290Z", "level": "INFO", "logger": "__main__", "message": "LIVEKIT_AGENT_MAIN | starting_worker", "module": "main", "function": "<module>", "line": 76}
{"timestamp": "2025-10-14T08:55:26.320949Z", "level": "DEV", "logger": "livekit.agents", "message": "Watching C:\\Users\\PMYLS\\Desktop\\voiceagents\\livekit", "module": "watcher", "function": "run", "line": 84}
{"timestamp": "2025-10-14T08:55:30.016605Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-14T08:55:30.017602Z", "level": "INFO", "logger": "__mp_main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-14T08:55:30.055404Z", "level": "INFO", "logger": "livekit.agents", "message": "starting worker", "module": "worker", "function": "run", "line": 390}
{"timestamp": "2025-10-14T08:55:31.351955Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-14T09:08:47.466533Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-14T09:08:47.470552Z", "level": "INFO", "logger": "__mp_main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-14T09:08:47.513232Z", "level": "INFO", "logger": "livekit.agents", "message": "starting worker", "module": "worker", "function": "run", "line": 390}
{"timestamp": "2025-10-14T09:08:47.539989Z", "level": "ERROR", "logger": "livekit.agents", "message": "Error in _read_ipc_task", "module": "log", "function": "async_fn_logs", "line": 21, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\utils\\aio\\duplex_unix.py\", line 35, in recv_bytes\n    len_bytes = await self._reader.readexactly(4)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\asyncio\\streams.py\", line 750, in readexactly\n    raise exceptions.IncompleteReadError(incomplete, n)\nasyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\utils\\log.py\", line 16, in async_fn_logs\n    return await fn(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\cli\\watcher.py\", line 120, in _read_ipc_task\n    msg = await channel.arecv_message(self._pch, proto.IPC_MESSAGES)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\ipc\\channel.py\", line 47, in arecv_message\n    return _read_message(await dplx.recv_bytes(), messages)\n                         ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python312\\Lib\\site-packages\\livekit\\agents\\utils\\aio\\duplex_unix.py\", line 43, in recv_bytes\n    raise DuplexClosed() from e\nlivekit.agents.utils.aio.duplex_unix.DuplexClosed"}
{"timestamp": "2025-10-14T09:08:48.771439Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-14T09:09:44.063005Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-14T09:09:44.067008Z", "level": "INFO", "logger": "__mp_main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-14T09:09:44.109202Z", "level": "INFO", "logger": "livekit.agents", "message": "starting worker", "module": "worker", "function": "run", "line": 390}
{"timestamp": "2025-10-14T09:09:45.102678Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-14T09:12:51.679895Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-14T09:12:51.682894Z", "level": "INFO", "logger": "__mp_main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-14T09:12:51.731465Z", "level": "INFO", "logger": "livekit.agents", "message": "starting worker", "module": "worker", "function": "run", "line": 390}
{"timestamp": "2025-10-14T09:12:52.895466Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-14T09:14:13.948620Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-14T09:14:13.950614Z", "level": "INFO", "logger": "__mp_main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-14T09:14:13.983740Z", "level": "INFO", "logger": "livekit.agents", "message": "starting worker", "module": "worker", "function": "run", "line": 390}
{"timestamp": "2025-10-14T09:14:16.558906Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-14T09:23:03.085656Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-14T09:23:03.087364Z", "level": "INFO", "logger": "__mp_main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-14T09:23:03.176644Z", "level": "INFO", "logger": "livekit.agents", "message": "starting worker", "module": "worker", "function": "run", "line": 390}
{"timestamp": "2025-10-14T09:23:04.439303Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-14T09:23:48.395737Z", "level": "INFO", "logger": "root", "message": "LiveKit track publication fix applied successfully", "module": "quick_track_fix", "function": "apply_quick_track_fix", "line": 47}
{"timestamp": "2025-10-14T09:23:48.399809Z", "level": "INFO", "logger": "__mp_main__", "message": "LIVEKIT_AGENT_STARTING | modular_architecture_enabled", "module": "main", "function": "<module>", "line": 55}
{"timestamp": "2025-10-14T09:23:48.430203Z", "level": "INFO", "logger": "livekit.agents", "message": "starting worker", "module": "worker", "function": "run", "line": 390}
{"timestamp": "2025-10-14T09:23:49.598409Z", "level": "INFO", "logger": "livekit.agents", "message": "registered worker", "module": "worker", "function": "_handle_register", "line": 801}
{"timestamp": "2025-10-14T09:55:19.850468Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:56:01.952029Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:56:14.811278Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:56:29.711944Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:57:07.927252Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:57:30.229142Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:57:40.358156Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:57:46.733129Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:57:57.688084Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:58:04.836636Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:58:13.240075Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T09:59:20.006107Z", "level": "WARNING", "logger": "watchfiles.main", "message": "process already dead, exit code: 1", "module": "run", "function": "stop", "line": 344}
{"timestamp": "2025-10-14T10:02:22.813560Z", "level": "ERROR", "logger": "asyncio", "message": "Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>", "module": "base_events", "function": "default_exception_handler", "line": 1819, "exception": "Traceback (most recent call last):\n  File \"C:\\Python312\\Lib\\asyncio\\events.py\", line 88, in _run\n    self._context.run(self._callback, *self._args)\n  File \"C:\\Python312\\Lib\\asyncio\\proactor_events.py\", line 165, in _call_connection_lost\n    self._sock.shutdown(socket.SHUT_RDWR)\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host"}
